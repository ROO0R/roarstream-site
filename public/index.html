<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Roarstream!</title>
  <style>
    @font-face {
      font-family: 'Chronotype';
      src: url('Chronotype.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
    }
    /* ===== 1) Replace your :root with this forest-green palette ===== */
    :root{
      /* Forest accents */
      --accent: #1f6f3a;     /* forest green */
      --accent2:#2f8a4d;     /* lighter green */
      --accent3:#7ee2a8;     /* mint glow highlight */

      /* Backgrounds stay dark */
      --bg0:#05070a;
      --bg1:#070d0a;
      --panel:#0f1411;
      --panel2:#141d16;

      --text:#f3fff7;
      --muted:#b8d6c3;
      --border: rgba(255,255,255,.12);
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius: 18px;
    }
  
    #mostRecentYoutubeBtn{
      background-image: url("./most_recent_youtube.jpg");
      background-size: cover;
      background-position: center;
    }
    
    *{ box-sizing:border-box; }
    html, body { height:100%; }
    body{
      margin:0;
      color:var(--text);
      font-family: 'Chronotype', sans-serif;
      background:
        radial-gradient(1200px 700px at 50% 20%, rgba(31,111,58,.25), transparent 55%),
        radial-gradient(900px 600px at 15% 80%, rgba(126,226,168,.10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* Full-page layout: left art | center panel | right art */
    .stage{
      min-height:100vh;
      display:grid;
      grid-template-columns: minmax(140px, 1fr) minmax(320px, 920px) minmax(140px, 1fr);
      align-items:center;
      gap: 24px;
      padding: 28px 18px;
      position:relative;
    }

    /* Side PNG art panels */
    .side{
      height: clamp(520px, 90vh, 980px);
      border-radius: 26px;
      position:relative;
      overflow:hidden;
      filter: drop-shadow(0 12px 40px rgba(0,0,0,.55));
      opacity:.95;
    }
    .side::before{
      content:"";
      position:absolute;
      inset:0;
      background-size: auto;        /* do NOT scale */
      background-repeat: repeat;    /* tile in both X and Y */
      background-position: top left;
    }
    .side::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.35), rgba(0,0,0,.55));
      mix-blend-mode: multiply;
    }
    .side.left::before { background-image:url("left-bg.png"); }
    .side.right::before{ background-image:url("right-bg.png"); }

    /* Center content panel */
    .panel{
      width:100%;
      background: linear-gradient(180deg, rgba(20,20,39,.92), rgba(15,15,24,.92));
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: clamp(18px, 3vw, 34px);
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(8px);
    }

    /* Decorative glow inside panel */
    .panel::before{
      content:"";
      position:absolute;
      width: 520px; height: 520px;
      left: -180px; top: -240px;
      background: radial-gradient(circle at 30% 30%, rgba(145,70,255,.35), transparent 60%);
      filter: blur(2px);
      pointer-events:none;
    }
    .panel::after{
      content:"";
      position:absolute;
      width: 520px; height: 520px;
      right: -220px; bottom: -260px;
      background: radial-gradient(circle at 60% 60%, rgba(47,138,77,.22), transparent 62%);
      filter: blur(2px);
      pointer-events:none;
    }

    /* Avatar next to welcome */
    .topline{
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      margin-bottom: 8px;
      position: relative;
      z-index: 1;
    }

    .avatar{
      display: inline-flex;
      align-items: center;
      justify-content: center;
      text-decoration: none;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      overflow: hidden;
      flex-shrink: 0;
      border: 2px solid rgba(145,70,255,.55);
      box-shadow:
        0 0 0 3px rgba(145,70,255,.15),
        0 8px 26px rgba(0,0,0,.45);
    }

    .avatar img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    @media (max-width: 520px){
      .topline{
        flex-direction: column;
        gap: 10px;
      }
    }

    h1{
      margin: 10px 0 6px;
      font-size: clamp(34px, 4.2vw, 64px);
      line-height: 1.02;
      letter-spacing: -0.02em;
      position:relative;
      z-index:1;
      text-shadow: 0 10px 34px rgba(0,0,0,.55);
      text-align: center;
    }

    .glowtext{
      background: linear-gradient(90deg, #ffffff 0%, #c9ffe0 35%, #2f8a4d 60%, #ffffff 100%);
      -webkit-background-clip: text;
      background-clip:text;
      color: transparent;
      filter: drop-shadow(0 0 18px rgba(31,111,58,.22));
    }

    .ctaRow{
      display:flex;
      justify-content:center;
      gap: 12px;
      flex-wrap:wrap;
      margin: 12px 0 20px;
      position:relative;
      z-index:1;
    }

    a.cta{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 16px;
      border-radius: 12px;
      text-decoration:none;
      font-weight: 700;
      font-size: 16px;
      letter-spacing: .01em;
      color: #fff;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(145,70,255,.92), rgba(116,45,235,.92));
      box-shadow: 0 14px 40px rgba(145,70,255,.20);
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
      position: relative; /* needed for image overlay button */
      overflow: hidden;   /* needed for image overlay button */
    }
    a.cta:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 55px rgba(145,70,255,.28);
      filter: saturate(1.05);
    }
    a.cta:focus-visible{
      outline: 3px solid rgba(184,132,255,.85);
      outline-offset: 3px;
    }

    .icon{
      width:18px; height:18px;
      display:inline-block;
    }

    /* Footer (same as archives) */
    footer{
      margin-top: 18px;
      padding-top: 12px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: rgba(184,185,214,.95);
      position:relative;
      z-index:1;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      flex-wrap:wrap;
      font-size: 14px;
      letter-spacing: .01em;
    }
    .footlinks{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items:center;
    }
    .foottext{
      display: flex;
      flex-direction: column;
      gap: 2px;
      line-height: 1.35;
    }

    .foottext .line2{
      font-size: 13px;
      color: rgba(184,185,214,.85);
    }
    .versionTag{
      font-size: 12px;
      color: rgba(184,185,214,.65);
      letter-spacing: .06em;
      margin-left: 6px;
      user-select: none;
    }
    a.smallLink{
      color: var(--muted);
      text-decoration:none;
      font-size: 14px;
      border-bottom: 1px dashed rgba(184,185,214,.35);
      padding-bottom: 1px;
      opacity:.95;
    }
    a.smallLink:hover{ color:#fff; border-bottom-color: rgba(255,255,255,.35); }
    a.smallLink:focus-visible{
      outline: 3px solid rgba(184,132,255,.85);
      outline-offset: 3px;
      border-bottom-color: transparent;
    }

    /* Group wrapper */
    .ctaGroup{
      display: inline-flex;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 18px 55px rgba(0,0,0,.45);
      border: 1px solid rgba(255,255,255,.14);
    }

    /* Remove individual rounded edges */
    .ctaGroup .cta{
      border-radius: 0;
      border: none;
      box-shadow: none;
    }

    /* Left button */
    .ctaGroup .cta:first-child{
      border-top-left-radius: 14px;
      border-bottom-left-radius: 14px;
    }

    /* Right button */
    .ctaGroup .cta:last-child{
      border-top-right-radius: 14px;
      border-bottom-right-radius: 14px;
    }

    /* Divider line between them */
    .ctaGroup .cta + .cta{
      border-left: 1px solid rgba(255,255,255,.18);
    }

    /* Primary Twitch button */
    .cta.primary{
      background: linear-gradient(180deg, rgba(145,70,255,.95), rgba(116,45,235,.95));
    }

    /* Secondary Archives button */
    .cta.secondary{
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.04));
    }

    /* âœ… NEW: "Most recent YouTube" image button */
    .cta.ytLatest{
      background:
        linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.72)),
        var(--yt-latest-bg, none);
      background-size: cover;
      background-position: center;
    }
    .cta.ytLatest::after{
      content:"";
      position:absolute;
      inset:0;
      background: radial-gradient(700px 220px at 30% 30%, rgba(255,255,255,.10), transparent 60%);
      pointer-events:none;
    }
    .cta.ytLatest .ctaText{
      position: relative;
      z-index: 1;
      text-shadow: 0 10px 26px rgba(0,0,0,.65);
    }

    /* Hover */
    .ctaGroup .cta:hover{
      transform: translateY(-2px);
      filter: saturate(1.05);
    }

    /* Mobile stacking */
    @media (max-width: 520px){
      .ctaGroup{
        flex-direction: column;
        width: 100%;
      }

      .ctaGroup .cta{
        width: 100%;
        border-left: none !important;
        border-top: 1px solid rgba(255,255,255,.18);
      }

      .ctaGroup .cta:first-child{
        border-top: none;
        border-radius: 14px 14px 0 0;
      }

      .ctaGroup .cta:last-child{
        border-radius: 0 0 14px 14px;
      }
    }

    /* Schedule image framing */
    .frame{
      margin-top: 6px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      padding: 12px;
      box-shadow: 0 14px 46px rgba(0,0,0,.40);
      position:relative;
      z-index:1;
    }
    .frame img{
      width: 100%;
      height: auto;
      display:block;
      border-radius: 12px;
      max-height: 62vh;
      object-fit: contain;
      background: rgba(0,0,0,.25);
    }

    /* Clickable schedule image polish */
    .frame a { display: block; }
    .frame a:hover img{
      filter: brightness(1.05);
      box-shadow: 0 0 24px rgba(145,70,255,.45);
      transition: filter .15s ease, box-shadow .15s ease;
    }
    .frame a:focus-visible{
      outline: 3px solid rgba(184,132,255,.85);
      outline-offset: 4px;
    }

    /* Responsive: hide side art on smaller screens */
    @media (max-width: 980px){
      .stage{
        grid-template-columns: 1fr;
        gap: 16px;
        padding: 18px 14px;
      }
      .side{ display:none; }
      .panel{
        max-width: 920px;
        margin: 0 auto;
        text-align: center;
      }
    }

    @media (max-height: 680px){
      .stage{
        align-items: start;
        padding-top: 18px;
        padding-bottom: 28px;
      }
    }
  </style>
</head>

<body>
  <div class="stage">
    <div class="side left" aria-hidden="true"></div>

    <main class="panel" role="main">
      <div class="topline">
        <a
          class="avatar"
          href="https://www.twitch.tv/RoarWuzTaken"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Visit Roarstream on Twitch"
        >
          <img
            src="https://static-cdn.jtvnw.net/jtv_user_pictures/fc31418e-3d12-43aa-9e98-05c688e6c381-profile_image-70x70.png"
            alt="Roarstream avatar"
          >
        </a>

        <h2 class="glowtext">Hi! Welcome to Roarstream.com!</h2>
      </div>

      <div class="ctaRow">
        <div class="ctaGroup">
          <a class="cta primary"
             id="twitchLiveBtn"
             href="https://www.twitch.tv/RoarWuzTaken"
             target="_blank"
             rel="noopener noreferrer">
            <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 3h18v11l-5 5h-4l-3 3H8v-3H4V3z" stroke="white" stroke-opacity=".9" stroke-width="1.6" />
              <path d="M10 8v5" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
              <path d="M15 8v5" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
            </svg>
            <span class="ctaText">Twitch Page</span>
          </a>

          <a class="cta secondary" href="archives.html">
            YouTube Archives
          </a>
          
          <script>
          (async function loadMostRecentYoutube(){
            const btn = document.getElementById("mostRecentYoutubeBtn");
            if (!btn) return;
          
            try{
              const res = await fetch("./most_recent_youtube.txt", { cache: "no-store" });
              if (!res.ok) throw new Error("Could not fetch most_recent_youtube.txt");
              const url = (await res.text()).trim().split(/\r?\n/)[0];
              if (!url) throw new Error("most_recent_youtube.txt is empty");
          
              btn.href = url;
            }catch(err){
              console.warn("Most Recent YouTube failed to load:", err);
              // Keep existing href as a fallback
            }
          })();
          </script>
          
          <!-- âœ… NEW BUTTON -->
          <a class="btn" id="mostRecentYoutubeBtn" href="https://youtube.com" target="_blank" rel="noopener">
            Most Recent YouTube
          </a>
        </div>
      </div>

      <section class="frame" aria-label="Stream schedule image">
        <a href="https://www.twitch.tv/RoarWuzTaken" target="_blank" rel="noopener noreferrer">
          <img src="schedule.png" alt="Roarstream schedule" />
        </a>
      </section>

      <footer aria-label="Footer">
        <div class="foottext">
          <span class="line1">Â© Roarstream â€¢ Live &amp; archives</span>
          <span class="line2">Live â€“ Sundays / Mondays / Thursdays / Fridays</span>
        </div>
        <div class="footlinks">
          <a class="smallLink" href="https://www.twitch.tv/RoarWuzTaken" target="_blank" rel="noopener noreferrer">Twitch</a>
          <a class="smallLink" href="https://www.youtube.com/@RoarWuzTaken" target="_blank" rel="noopener noreferrer">YouTube</a>
          <a class="smallLink" href="https://discord.gg/Um7k2r7xHg" target="_blank" rel="noopener noreferrer">Discord</a>
          <a class="smallLink" href="https://stt.gg/MXWfzX1w" target="_blank" rel="noopener noreferrer">Stoat</a>
          <a class="smallLink" href="https://www.roarstream.com/credits.html">Credits</a>
          <span class="versionTag">v21</span>
        </div>
      </footer>
    </main>

    <div class="side right" aria-hidden="true"></div>
  </div>
</body>

<script>
/* ==============================
   âœ… QUICK EDIT CONFIG (TOP)
   ============================== */
const ROAR_YT_LATEST = {
  url: "https://www.youtube.com/@RoarWuzTaken/videos",  // <-- paste your most recent video link here anytime
  bgImage: "https://i9.ytimg.com/vi/hDJzZvdxPSU/mqdefault.jpg"                              // <-- put this jpg in the same folder as index.html
};

(async function(){
  // --- YouTube "Most Recent" button setup ---
  const ytBtn = document.getElementById("ytLatestBtn");
  if (ytBtn) {
    ytBtn.href = ROAR_YT_LATEST.url || "https://www.youtube.com/@RoarWuzTaken/videos";
    // Set CSS variable so the button can use your image as a background
    if (ROAR_YT_LATEST.bgImage) {
      ytBtn.style.setProperty("--yt-latest-bg", `url("${ROAR_YT_LATEST.bgImage}")`);
    }
  }

  // --- Existing Twitch live checker ---
  const channel = "RoarWuzTaken";
  const btn = document.getElementById("twitchLiveBtn");
  const label = btn?.querySelector(".ctaText");
  if (!btn || !label) return;

  async function check(){
    try {
      const res = await fetch(`https://decapi.me/twitch/uptime/${channel}`, { cache: "no-store" });
      const text = (await res.text()).toLowerCase();

      if (!text.includes("offline")) {
        label.textContent = "ðŸ”´ STREAMING NOW!";
        btn.style.background = "linear-gradient(180deg, #ff4d4d, #b80000)";
        btn.style.boxShadow = "0 0 25px rgba(255,77,77,.65)";
      } else {
        label.textContent = "Twitch Page";
        btn.style.background = "";
        btn.style.boxShadow = "";
      }
    } catch {
      // fail silently
    }
  }

  check();
  setInterval(check, 60000);
})();
</script>
</html>
